<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<title>Discord ANSI Bemásolós Generátor</title>
<style>
  body { font-family: 'Segoe UI', sans-serif; background:#313338; color:#eee; padding:20px; display: flex; flex-direction: column; align-items: center; }
  .container { max-width: 900px; width: 100%; background: #2b2d31; padding: 30px; border-radius: 15px; border: 1px solid #444; box-shadow: 0 10px 50px rgba(0,0,0,0.7); }
  
  .controls { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
  select, textarea, input[type="range"] { 
    width:100%; background:#1e1f22; color:#eee; border:1px solid #444; 
    padding:12px; border-radius: 8px; box-sizing: border-box; font-size: 15px;
  }
  
  textarea { height:120px; resize: vertical; grid-column: span 2; border: 1px solid #5865f2; outline: none; }

  .color-grid { display: grid; grid-template-columns: repeat(8, 1fr); gap: 10px; margin-bottom: 25px; }
  .color-item { height: 35px; border-radius: 6px; cursor: pointer; border: 1px solid rgba(255,255,255,0.2); transition: 0.2s; position: relative; }
  .color-item:hover { transform: scale(1.1); }
  .color-item.active { border: 2px solid #fff; box-shadow: 0 0 15px rgba(255,255,255,0.5); }

  #copyBtn { 
    width: 100%; padding: 20px; background: #5865f2; color: white; border: none; 
    border-radius: 10px; cursor: pointer; font-size: 20px; font-weight: bold; transition: 0.3s;
  }
  #copyBtn:hover { background: #4752c4; transform: translateY(-2px); }

  .label { font-size: 11px; margin-bottom: 6px; color: #b5bac1; text-transform: uppercase; font-weight: 800; }
  .size-val { color: #5865f2; font-size: 14px; margin-left: 10px; }
  
  #preview-container { 
    margin-top: 30px; background: #1e1f22; padding: 25px; border-radius: 10px; 
    border: 1px solid #444; min-height: 50px;
  }
  #preview-text { white-space: pre-wrap; word-wrap: break-word; line-height: 1.4; font-weight: bold; }
  .warning { color: #faa61a; font-size: 12px; margin-top: 10px; text-align: center; }
</style>
</head>
<body>

<div class="container">
  <h2 style="text-align:center; margin-top:0;">Discord Bemásolós Színező</h2>
  
  <div class="label">Szöveg:</div>
  <textarea id="inputText" oninput="update()">Írd ide a szöveget, amit másolni akarsz!</textarea>

  <div class="controls">
    <div>
      <div class="label">Típus (Csak előnézet!):</div>
      <select id="fontSelect" onchange="update()">
        <option value="Arial">Arial</option>
        <option value="'Courier New'">Courier (Hacker)</option>
        <option value="Impact">Impact</option>
        <option value="fantasy">Fantasy</option>
      </select>
    </div>
    <div>
      <div class="label">Méret (Előnézet): <span id="sizeDisplay" class="size-val">22px</span></div>
      <input type="range" id="fontSize" min="8" max="34" value="22" oninput="updateSize(this.value)">
    </div>
  </div>

  <div class="label">Színválasztás (ANSI kompatibilis):</div>
  <div class="color-grid" id="colorGrid"></div>

  <button id="copyBtn" onclick="copyToDiscord()">MÁSOLÁS DISCORDRA</button>
  <div class="warning">Figyelem: A Discordon a szöveg fix betűtípussal jelenik meg!</div>

  <div id="preview-container">
    <div id="preview-text"></div>
  </div>
</div>

<script>
// A Discord által támogatott 16 ANSI variáció (Bold + Alap)
const colors = [
  { hex: "#4f545c", code: "0;30", name: "Gray" },
  { hex: "#ffffff", code: "0;37", name: "White" },
  { hex: "#ed4245", code: "0;31", name: "Red" },
  { hex: "#ff4444", code: "1;31", name: "Neon Red" },
  { hex: "#fee75c", code: "0;33", name: "Yellow" },
  { hex: "#ffff00", code: "1;33", name: "Neon Yellow" },
  { hex: "#57f287", code: "0;32", name: "Green" },
  { hex: "#00ff00", code: "1;32", name: "Neon Green" },
  { hex: "#24cdff", code: "0;36", name: "Cyan" },
  { hex: "#00ffff", code: "1;36", name: "Neon Cyan" },
  { hex: "#5865f2", code: "0;34", name: "Blue" },
  { hex: "#4488ff", code: "1;34", name: "Neon Blue" },
  { hex: "#eb459e", code: "0;35", name: "Pink" },
  { hex: "#ff00ff", code: "1;35", name: "Neon Pink" },
  { hex: "#000000", code: "1;30", name: "Black" },
  { hex: "#808080", code: "1;37", name: "Bright Gray" }
];

let selectedIdx = 7; // Neon Green alapból

function init() {
  const grid = document.getElementById('colorGrid');
  colors.forEach((c, i) => {
    const div = document.createElement('div');
    div.className = 'color-item' + (i === selectedIdx ? ' active' : '');
    div.style.backgroundColor = c.hex;
    div.title = c.name;
    div.onclick = () => {
      selectedIdx = i;
      document.querySelectorAll('.color-item').forEach((item, idx) => item.classList.toggle('active', idx === i));
      update();
    };
    grid.appendChild(div);
  });
  update();
}

function updateSize(val) {
  document.getElementById('sizeDisplay').innerText = val + "px";
  update();
}

function update() {
  const text = document.getElementById("inputText").value;
  const font = document.getElementById("fontSelect").value;
  const size = document.getElementById("fontSize").value;
  const preview = document.getElementById("preview-text");
  
  preview.style.color = colors[selectedIdx].hex;
  preview.style.fontFamily = font;
  preview.style.fontSize = size + "px";
  preview.textContent = text;
}

function copyToDiscord() {
  const text = document.getElementById("inputText").value;
  const colorCode = colors[selectedIdx].code;
  
  // ANSI formázott kód összeállítása
  const formattedText = "```ansi\n\u001b[" + colorCode + "m" + text + "\n```";
  
  navigator.clipboard.writeText(formattedText).then(() => {
    const btn = document.getElementById('copyBtn');
    const oldText = btn.innerText;
    btn.innerText = "SIKERESEN MÁSOLVA!";
    btn.style.background = "#248046";
    setTimeout(() => {
      btn.innerText = oldText;
      btn.style.background = "#5865f2";
    }, 2000);
  });
}

init();
</script>

</body>
</html>
